!function(o){o.fn.lazyload=function(a){function e(){t.each(function(){var e=o(this),t=e.attr("_src"),l=e.offset().top;e.attr("_src")&&(l-a.threshold<=a.container.height()+n?(e.is("img")?e.attr("src",t):(e.css("background",""),e.css("background","url("+t+") no-repeat 50% 0")),e.removeAttr("_src"),e.addClass(a.effectCls),a.endFn&&a.endFn(e),a.lazys++):e.is("img")?e.attr("src",a.placeholder):e.css("background","#c3c3c3"))})}var t=o(this),l=o(window),n=l.scrollTop();a=o.extend({lazys:0,classes:".lazy",container:l,threshold:100,layout:"vertical",effectCls:"fadeIn",placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IA",endFn:""},a||{}),e(),a.container.on("scroll",function(){t=o(a.classes),a.lazys!=t.length&&(n=l.scrollTop(),e())})}}(window.Zepto||$);var index={toast:function(o,a){var e="";$("body").append('<div id="toast" class="layer show"><div class="toastTip">'+o+"</div></div>"),e=$("#toast"),console.log(e),setTimeout(function(){e.remove(),a&&a()},1e3)},backtotop:function(){var o=document,a=null,e=o.getElementById("backtotop");e.onclick=function(){setTimeout(function(){var e=o.documentElement.scrollTop||o.body.scrollTop,t=Math.ceil(-e/8);o.documentElement.scrollTop=o.body.scrollTop=e+t,a=setTimeout(arguments.callee,16),e<=10&&(o.documentElement.scrollTop=o.body.scrollTop=0,clearInterval(a))},16)}},loadLock:!0,loadParams:{pageSize:6,page:0},ajaxLoad:function(o){var a=this,e=$(window),t=e.height(),l=$("#ajaxLoading"),n=$(".experiences"),s=$("#footer").height();e.on("scroll",function(){var e=document.body.scrollTop||document.documentElement.scrollTop,c=$(document).height();a.loadLock&&t+e>=c-s-300&&(a.loadLock=!1,a.loadParams.page++,l.addClass("rotating"),$.ajax({type:"GET",url:"../build/js/datas.js",data:{page:a.loadParams.page,pageSize:a.loadParams.pageSize},success:function(e){if(a.loadParams.page>3)return a.loadLock=!1,void l.removeClass("rotating");if(datas.list.length<=0)return a.loadLock=!1,void l.removeClass("rotating");var t="";if("case"==o)for(var s=0,c=datas.list.length;s<c;s++)t+="";else if("news"==o)for(var s=0,c=datas.list.length;s<c;s++)t+="";n.append(t),setTimeout(function(){l.removeClass("rotating"),a.loadLock=!0},200)},error:function(){a.loadParams.page--,l.removeClass("rotating"),a.loadLock=!0}}))})}};$(function(){var o=$("#page"),a=$("#circleG");$(".lazy").lazyload(),setTimeout(function(){a.hide(),o.addClass("open")},400)});